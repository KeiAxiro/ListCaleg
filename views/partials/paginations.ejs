<!-- 

  <% 
  
  let isDisablePrev = (currentPage == 1) ? 'disabled' : '';
  let isDisableNext = (currentPage == maxPage) ? 'disabled' : '';
  
  let displayPages = 7;
  let firstPage = Math.max(1, currentPage - Math.floor(displayPages / 2));
  let lastPage = Math.min(maxPage, firstPage + displayPages - 1);
  
  
  let onPrev = (currentPage > 1) ? (currentPage - 1) : 1;
  let onNext = (currentPage < maxPage) ? (parseInt(currentPage) + 1) : maxPage;
  
  
  let paginationQueryString = (page) => {
    let query = `?page=${page}`;
    if (keyword) {
      query += `&searchFilter=${keyword}`;
    }
    return query;
  };
  %>

 -->

<nav aria-label="Page navigation">
  <ul class="pagination">
    <li class="page-item <%= isDisablePrev %>">
      <a
        class="page-link"
        href="<%= (currentPage > 1) ? paginationQueryString(onPrev) : '#' %>"
        aria-label="Previous"
        aria-disabled="<%= (currentPage == 1) %>"
      >
        <span aria-hidden="true">&laquo;</span>
      </a>
    </li>

    <% for(let page = firstPage; page <= lastPage; page++) { %> <% let isActive
    = (currentPage == page) ? 'active' : ''; %>
    <li class="page-item <%= isActive %>" aria-current="page">
      <a class="page-link" href="<%= paginationQueryString(page) %>"
        ><%= page %></a
      >
    </li>
    <% } %>

    <li class="page-item <%= isDisableNext %>">
      <a
        class="page-link"
        href="<%= (currentPage < maxPage) ? paginationQueryString(onNext) : '#' %>"
        aria-label="Next"
        aria-disabled="<%= (currentPage == maxPage) %>"
      >
        <span aria-hidden="true">&raquo;</span>
      </a>
    </li>
  </ul>
</nav>
